---
title: Inline Logging
---

import ParamsTable from "components/params-table.tsx";

# Inline Logging

Sometimes, we just want to log a simple message without the full traceback.
In this case, we can use the inline logging API.

## API

### `LOG_ERROR_INLINE` <Badge text="Macro" />
Wrapper for logging an error to stderr without stacktrace.
```c
LOG_ERROR_INLINE(ctb_error, msg)
```

<Callout type="warning">Logging an inline error has no effect on error context. It only logs a message.</Callout>

#### Parameters
<ParamsTable 
  params={[
    { name: "ctb_error", type: "CTB_Error", desc: "The error type." },
    { name: "msg", type: "const char *", desc: "Error message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_error_inline(__FILE__, __LINE__, __func__, ctb_error, msg);            \
} while (0)
```

#### Usage
```c
LOG_ERROR_INLINE(
    CTB_BUFFER_ERROR,
    "This should be inline formatted error with buffer error",
);
```
##### Output
```ansi
[1;31mBufferError:[0m [38;5;240mFile "[0m[38;5;240m/Users/alvinng/Desktop/c_traceback/examples[0m[1;36m/example_inline.c[0m[38;5;240m", line[0m [1;36m49[0m [38;5;240min[0m [1;36minline_error_level2[0m:
   [0;31mThis should be inline error with buffer error[0m
```

### `LOG_ERROR_INLINE_FMT` <Badge text="Macro" />
Wrapper for logging an error with formatted message to stderr without stacktrace.
```c
LOG_ERROR_INLINE_FMT(ctb_error, msg, ...)
```

<Callout type="warning">Logging an inline error has no effect on error context. It only logs a message.</Callout>

#### Parameters
<ParamsTable 
  params={[
    { name: "ctb_error", type: "CTB_Error", desc: "The error type." },
    { name: "msg", type: "const char *", desc: "Error message." },
    { name: "...", type: "N/A", desc: "Additional arguments for formatting the message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_error_inline_fmt(                                                      \
        __FILE__, __LINE__, __func__, ctb_error, msg, __VA_ARGS__                  \
    );                                                                             \
} while (0)
```

#### Usage
```c
LOG_ERROR_INLINE_FMT(
    CTB_SYSTEM_ERROR,
    "(Test %d) This should be inline formatted error with system error",
    1
);
```
##### Output
```ansi
[1;31mSystemError:[0m [38;5;240mFile "[0m[38;5;240m/Users/alvinng/Desktop/c_traceback/examples[0m[1;36m/example_inline.c[0m[38;5;240m", line[0m [1;36m32[0m [38;5;240min[0m [1;36minline_error[0m:
   [0;31m(Test 1) This should be inline formatted error with system error[0m
```

### `LOG_WARNING_INLINE` <Badge text="Macro" />
Wrapper for logging a warning to stderr without stacktrace.
```c
LOG_WARNING_INLINE(ctb_warning, msg)
```

#### Parameters
<ParamsTable 
  params={[
    { name: "ctb_warning", type: "CTB_Warning", desc: "The warning type." },
    { name: "msg", type: "const char *", desc: "Warning message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_warning_inline(__FILE__, __LINE__, __func__, ctb_warning, msg);        \
} while (0)
```

#### Usage
```c
LOG_WARNING_INLINE(
    CTB_USER_WARNING,
    "This should be inline warning with user warning"
);
```
##### Output
```ansi
[1;33mUserWarning:[0m [38;5;240mFile "[0m[38;5;240m/Users/alvinng/Desktop/c_traceback/examples[0m[1;36m/example_inline.c[0m[38;5;240m", line[0m [1;36m72[0m [38;5;240min[0m [1;36minline_warning_level2[0m:
   [5;33mThis should be inline warning with user warning[0m
```

### `LOG_WARNING_INLINE_FMT` <Badge text="Macro" />
Wrapper for logging a warning with formatted message to stderr without stacktrace.
```c
LOG_WARNING_INLINE_FMT(ctb_warning, msg, ...)
```

#### Parameters
<ParamsTable 
  params={[
    { name: "ctb_warning", type: "CTB_Warning", desc: "The warning type." },
    { name: "msg", type: "const char *", desc: "Warning message." },
    { name: "...", type: "N/A", desc: "Additional arguments for formatting the message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_warning_inline_fmt(                                                    \
        __FILE__, __LINE__, __func__, ctb_warning, msg, __VA_ARGS__                \
    );                                                                             \
} while (0)
```

#### Usage
```c
LOG_WARNING_INLINE_FMT(
    CTB_DEPRECATION_WARNING,
    "(Test %d) This should be inline formatted warning with deprecation warning",
    3
);
```
##### Output
```ansi
[1;33mDeprecationWarning:[0m [38;5;240mFile "[0m[38;5;240m/Users/alvinng/Desktop/c_traceback/examples[0m[1;36m/example_inline.c[0m[38;5;240m", line[0m [1;36m54[0m [38;5;240min[0m [1;36minline_warning[0m:
   [5;33m(Test 3) This should be inline formatted warning with deprecation warning[0m
```

### `CTB_LOG_MESSAGE_INLINE` <Badge text="Macro" />
Wrapper for logging a message to stdout without stacktrace.
```c
LOG_MESSAGE_INLINE(msg)
```

#### Parameters
<ParamsTable 
  params={[
    { name: "msg", type: "const char *", desc: "Message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_message_inline(__FILE__, __LINE__, __func__, msg);                     \
} while (0)
```

#### Usage
```c
void inline_message(int i)
{
    CTB_LOG_MESSAGE_INLINE("Hello, world! :)");
}
```

##### Output
```ansi
[1;95mMessage:[0m [38;5;240mFile "[0m[38;5;240m/home/alvinng/Desktop/c_trackback/examples/[0m[1;36mexample.c[0m[38;5;240m", line[0m [1;36m75[0m [38;5;240min[0m [1;36minline_message[0m:
   [0;35mHello, world! :)[0m
```

### `LOG_MESSAGE_INLINE_FMT` <Badge text="Macro" />
Wrapper for logging a formatted message to stdout without stacktrace.
```c
CTB_LOG_MESSAGE_INLINE(msg, ...)
```

#### Parameters
<ParamsTable 
  params={[
    { name: "msg", type: "const char *", desc: "Message." },
    { name: "...", type: "N/A", desc: "Additional arguments for formatting the message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_message_inline(__FILE__, __LINE__, __func__, msg, __VA_ARGS__);        \
} while (0)
```

#### Usage
```c
CTB_LOG_MESSAGE_INLINE("(Test %d) Hello, world! :)", 0);
```

##### Output
```ansi
[1;95mMessage:[0m [38;5;240mFile "[0m[38;5;240m/home/alvinng/Desktop/c_trackback/examples/[0m[1;36mexample.c[0m[38;5;240m", line[0m [1;36m75[0m [38;5;240min[0m [1;36minline_message[0m:
   [0;35m(Test 0) Hello, world! :)[0m
```