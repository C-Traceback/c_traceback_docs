---
title: Logging
---

import ParamsTable from "components/params-table.tsx";

# Logging

Sometimes, we just want to log a simple message without the full traceback.
In this case, we can use the logging API.

```ansi
[1;31mMathError:[0m [38;5;240mFile "[0m[38;5;240m/home/alvinng/Desktop/c_traceback/examples/[0m[1;36mexample_logging.c[0m[38;5;240m", line[0m [1;36m32[0m [38;5;240min[0m [1;36mlog_error[0m:
   [0;31m(Test 1) This should be formatted error level 1 with math error[0m
[1;31mBufferError:[0m [38;5;240mFile "[0m[38;5;240m/home/alvinng/Desktop/c_traceback/examples/[0m[1;36mexample_logging.c[0m[38;5;240m", line[0m [1;36m49[0m [38;5;240min[0m [1;36mlog_error_level2[0m:
   [0;31m(Test 2) This should be error level 2 with buffer error[0m
[1;33mDeprecationWarning:[0m [38;5;240mFile "[0m[38;5;240m/home/alvinng/Desktop/c_traceback/examples/[0m[1;36mexample_logging.c[0m[38;5;240m", line[0m [1;36m54[0m [38;5;240min[0m [1;36mlog_warning[0m:
   [0;33m(Test 3) This should be formatted warning level 1 with deprecation warning[0m
[1;33mUserWarning:[0m [38;5;240mFile "[0m[38;5;240m/home/alvinng/Desktop/c_traceback/examples/[0m[1;36mexample_logging.c[0m[38;5;240m", line[0m [1;36m72[0m [38;5;240min[0m [1;36mlog_warning_level2[0m:
   [0;33m(Test 4) This should be warning level 2 with user warning[0m
[1;95mMessage:[0m [38;5;240mFile "[0m[38;5;240m/home/alvinng/Desktop/c_traceback/examples/[0m[1;36mexample_logging.c[0m[38;5;240m", line[0m [1;36m77[0m [38;5;240min[0m [1;36mlog_message[0m:
   [0;35m(Test 5) This should be formatted message level 1[0m
[1;95mMessage:[0m [38;5;240mFile "[0m[38;5;240m/home/alvinng/Desktop/c_traceback/examples/[0m[1;36mexample_logging.c[0m[38;5;240m", line[0m [1;36m92[0m [38;5;240min[0m [1;36mlog_message_level2[0m:
   [0;35m(Test 6) This should be message level 2[0m
```

## API

### `LOG_ERROR` <Badge text="Macro" />
Wrapper for logging an error to stderr without stacktrace.
```c
void LOG_ERROR(CTB_Error ctb_error, const char *restrict msg)
```

<Callout type="warning">Logging an error has no effect on error context.
It simply logs a message. Use [`THROW`](/docs/API/throwing_errors#throw-) instead.</Callout>

#### Parameters
<ParamsTable 
  params={[
    { name: "ctb_error", type: "CTB_Error", desc: "The error type." },
    { name: "msg", type: "const char *", desc: "Error message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_error(__FILE__, __LINE__, __func__, ctb_error, msg);                   \
} while (0)
```

#### Usage
```c
LOG_ERROR(
    CTB_BUFFER_ERROR,
    "This should be formatted error with buffer error",
);
```

### `LOG_ERROR_FMT` <Badge text="Macro" />
Wrapper for logging an error with formatted message to stderr without stacktrace.
```c
void LOG_ERROR_FMT(CTB_Error ctb_error, const char *restrict msg, ...)
```

<Callout type="warning">Logging an error has no effect on error context.
It simply logs a message. Use [`THROW_FMT`](/docs/API/throwing_errors#throw_fmt-) instead.</Callout>

#### Parameters
<ParamsTable 
  params={[
    { name: "ctb_error", type: "CTB_Error", desc: "The error type." },
    { name: "msg", type: "const char *", desc: "Error message." },
    { name: "...", type: "N/A", desc: "Additional arguments for formatting the message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_error_fmt(__FILE__, __LINE__, __func__, ctb_error, msg, __VA_ARGS__);  \
} while (0)
```

#### Usage
```c
LOG_ERROR_FMT(
    CTB_SYSTEM_ERROR,
    "(Test %d) This should be formatted error with system error",
    1
);
```
### `LOG_WARNING` <Badge text="Macro" />
Wrapper for logging a warning to stderr without stacktrace.
```c
void LOG_WARNING(CTB_Error ctb_warning, const char *restrict msg)
```

#### Parameters
<ParamsTable 
  params={[
    { name: "ctb_warning", type: "CTB_Warning", desc: "The warning type." },
    { name: "msg", type: "const char *", desc: "Warning message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_warning(__FILE__, __LINE__, __func__, ctb_warning, msg);               \
} while (0)
```

#### Usage
```c
LOG_WARNING(
    CTB_USER_WARNING,
    "This should be warning with user warning"
);
```

### `LOG_WARNING_FMT` <Badge text="Macro" />
Wrapper for logging a warning with formatted message to stderr without stacktrace.
```c
void LOG_WARNING_FMT(CTB_Error ctb_warning, const char* restrict msg, ...)
```

#### Parameters
<ParamsTable 
  params={[
    { name: "ctb_warning", type: "CTB_Warning", desc: "The warning type." },
    { name: "msg", type: "const char *", desc: "Warning message." },
    { name: "...", type: "N/A", desc: "Additional arguments for formatting the message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_warning_fmt(                                                           \
        __FILE__, __LINE__, __func__, ctb_warning, msg, __VA_ARGS__                \
    );                                                                             \
} while (0)
```

#### Usage
```c
LOG_WARNING_FMT(
    CTB_DEPRECATION_WARNING,
    "(Test %d) This should be formatted warning with deprecation warning",
    3
);
```
### `LOG_MESSAGE` <Badge text="Macro" />
Wrapper for logging a message to stdout without stacktrace.
```c
void LOG_MESSAGE(const char *restrict msg)
```

#### Parameters
<ParamsTable 
  params={[
    { name: "msg", type: "const char *", desc: "Message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_message(__FILE__, __LINE__, __func__, msg);                            \
} while (0)
```

#### Usage
```c
void message(int i)
{
    LOG_MESSAGE("Hello, world! :)");
}
```

### `LOG_MESSAGE_FMT` <Badge text="Macro" />
Wrapper for logging a formatted message to stdout without stacktrace.
```c
void LOG_MESSAGE_FMT(const char *restrict msg, ...)
```

#### Parameters
<ParamsTable 
  params={[
    { name: "msg", type: "const char *", desc: "Message." },
    { name: "...", type: "N/A", desc: "Additional arguments for formatting the message." },
  ]}
/>

#### Expands to
```c
do                                                                                 \
{                                                                                  \
    ctb_log_message(__FILE__, __LINE__, __func__, msg, __VA_ARGS__);               \
} while (0)
```

#### Usage
```c
LOG_MESSAGE_FMT("(Test %d) Hello, world! :)", 0);
```